{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","app/scripts/app.js","app/scripts/events.js","app/scripts/models/base.js","app/scripts/models/collection.js","app/scripts/models/serialize.js","app/scripts/models/task.js","app/scripts/models/user.js","app/scripts/ui.js","app/scripts/utils/fire.js","app/scripts/utils/request.js","app/scripts/utils/safer-html.js","app/scripts/utils/select.js"],"names":[],"mappings":"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","file":"all.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\nimport rq from './utils/request';\nimport $$ from './utils/select';\nimport Collection from './models/collection';\nimport UI from './ui';\nimport serialize from './models/serialize';\nimport fire from './utils/fire';\nimport Task from './models/task';\nimport User from './models/user';\nimport events from './events';\n\nclass Application {\n  constructor() {\n    this._userCollection = new Collection(User, '/users', 'users', 'userChange');\n    this._taskCollection = new Collection(Task, '/tasks', 'tasks', 'taskChange');\n\n    fire.subscribe('userChange', null, () => {\n      let users = this._userCollection.fetch();\n      UI.updateUsers(users);\n    });\n    this._userCollection.initialize();\n\n    fire.subscribe('taskChange', null, () => {\n      let tasks = this._taskCollection.fetch();\n      UI.updateTasks(tasks);\n    });\n    this._taskCollection.initialize();\n\n    events(this._userCollection, this._taskCollection);\n  }\n}\n\n(() => new Application())();\n","/*globals formSerialize*/\nimport $$ from './utils/select';\nimport rq from './utils/request';\nimport UI from './ui';\nimport fire from './utils/fire';\n\nlet events = ((userCollection, taskCollection) => {\n  let sourceModal = $$('#source-modal');\n  let userModal = sourceModal.find('#user-modal');\n  let taskModal = sourceModal.find('#task-modal');\n  let taskTable = $$('#show-tasks');\n  let deleteTask = $$('#delete-task');\n  let userModalForm = userModal.find('form');\n  let taskModalFrom = taskModal.find('form');\n  let usersList = $$('#users');\n  let showAllUsers = $$('#show-all-users');\n\n  fire.subscribe('userChange', null, () => {\n    UI.hideModal();\n    userModalForm.reset();\n  });\n\n  fire.subscribe('taskChange', null, () => {\n    UI.hideModal();\n    taskModalFrom.reset();\n  });\n\n  userModalForm.on('submit', function (e) {\n    e.preventDefault();\n    let data = formSerialize(this, { hash: true });\n    userCollection.add(data);\n  });\n\n  taskModalFrom.on('submit', function (e) {\n    e.preventDefault();\n    let data = formSerialize(this, { hash: true });\n    if(this.hasClass('editable')) {\n      taskCollection.update(this.data('task-id'), data);\n    } else {\n      taskCollection.add(data);\n    }\n  });\n\n  deleteTask.on('click', e => {\n    e.preventDefault();\n    let deleteIds = Array.import(taskTable.findAll('input[type=checkbox]:checked'))\n      .map(task => task.parent('tr').data('task-id'));\n    taskCollection.deleteByIds(deleteIds);\n  });\n\n  taskTable.delegate('click', '.edit-task', e => {\n    e.preventDefault();\n    let taskElement = e.target.parent('tr');\n    let taskId = taskElement.data('task-id');\n\n    taskModalFrom.reset();\n    UI.showEditModal(taskModal, taskCollection.findById(taskId));\n    UI.setTaskId(taskId);\n    UI.changeModalHeaderText(true);\n  });\n\n  usersList.delegate('click', 'a', e => {\n    let userId = e.target.data('user-id');\n    UI.setFilterUserId(userId);\n    UI.updateTasks(taskCollection.fetch());\n  });\n\n  showAllUsers.on('click', () => {\n    UI.setFilterUserId(null);\n    UI.updateTasks(taskCollection.fetch());\n  });\n\n  sourceModal.delegate('click', '[data-dismiss=modal]', () => UI.hideModal());\n  $$('#add-new-user').on('click', () => UI.showModal(userModal));\n  $$('#add-new-task').on('click', () => {\n    UI.showModal(taskModal);\n    taskModalFrom.reset();\n    UI.removeTaskEditableClass();\n    UI.changeModalHeaderText();\n  });\n});\n\nexport default events;\n","import rq  from './../utils/request';\n\nclass Base {\n  constructor (fields, url) {\n    this._url = url !== undefined ? url : '';\n    this._fields = fields !== undefined ? fields : {};\n  }\n}\n\nexport default Base;\n","import rq from './../utils/request';\nimport serialize from './serialize';\nimport fire from './../utils/fire';\n\nexport default class Collection {\n  constructor (model, url, collectionName, event, models) {\n    this._model = model;\n    this._collectionName = collectionName;\n    this._event = event;\n    this._models = models !== undefined ? models : [];\n    this._urlPlural = url !== undefined ? url : '';\n    this._url = url.endsWith('s')? url.slice(0, -1): url;\n  }\n\n  resetLocalModels(data) {\n    if(!data) return;\n    this._models = data.map((item) => new this._model(item));\n  }\n\n  getLocalModels() {\n    return this._models;\n  }\n\n  initialize() {\n    let data;\n    if(serialize.size(this._collectionName) === 0) {\n      return rq.get(this._urlPlural).then(res => {\n        data = res.data;\n        serialize.addCollection(this._collectionName, data);\n        this.resetLocalModels(data);\n        fire.fire(this._event);\n      });\n    }\n    data = serialize.getCollection(this._collectionName);\n    this.resetLocalModels(data);\n    fire.fire(this._event);\n  }\n\n  add(data) {\n    return rq.post(this._url, data).then(res => this.save(res.data));\n  }\n\n  deleteByIds(ids) {\n    let fullfillments = ids.map(id => rq.delete(`${this._url}/${id}`));\n    return Promise.all(fullfillments)\n      .then(res => this.save(res[res.length - 1].data))\n      .catch(() => console.log('ups! something went wrong'));\n  }\n\n  update(id, data) {\n    rq.update(`${this._url}/${id}`, data).then(res => this.save(res.data));\n  }\n\n  fetch () {\n    return this._models;\n  }\n\n  findById(id) {\n    return this._models.find(model => model.id === id);\n  }\n\n  save(data) {\n    serialize.addCollection(this._collectionName, data);\n    this.resetLocalModels(data);\n    fire.fire(this._event);\n  }\n}\n","/*globals localStorage*/\nimport Collection from './collection';\n\n\n class Serialize {\n  constructor() {\n    this.barn = new Barn(sessionStorage);\n  }\n\n  addCollection(collectionName, data) {\n    this.barn.del(collectionName);\n    for(let item of data) {\n      if(item) {\n        this.barn.lpush(collectionName, item);\n      }\n    }\n  }\n\n  size(collectionName) {\n    return this.barn.llen(collectionName);\n  }\n\n  getCollection(collectionName) {\n    return this.barn.lrange(collectionName, 0, this.size(collectionName));\n  }\n}\n\n\nexport default new Serialize();\n","import Base from './base';\n\n\nclass Task extends Base {\n  constructor(data) {\n    super(data, '/task');\n  }\n\n  /** @return {String}*/\n  get id() {\n    return this._fields.id;\n  }\n\n  /** @return {String}*/\n  get creatorId() {\n    return this._fields.creator_id;\n  }\n\n  /** @return {String}*/\n  get description() {\n    return this._fields.description;\n  }\n\n  /** @return {String}*/\n  get time() {\n    return this._fields.time;\n  }\n\n  /** @return {String}*/\n  get date() {\n    return this._fields.date;\n  }\n}\n\nexport default Task;\n","import Base from './base';\n\nclass User extends Base {\n  constructor(data) {\n    super(data, '/user');\n  }\n\n  /** @return {String}*/\n  get id () {\n    return this._fields.id;\n  }\n\n  /** @return {String}*/\n  get name () {\n    return this._fields.name;\n  }\n\n  /** @return {String}*/\n  get lastName() {\n    return this._fields.lastName;\n  }\n\n  /** @return {String}*/\n  get email() {\n    return this._fields.email;\n  }\n}\n\nexport default User;\n","import $$ from './utils/select';\nimport saferHTML from \"./utils/safer-html\";\n\nclass UI {\n  constructor() {\n    this._usersListContainer = $$('#users');\n    this._tasksContainer = $$('#show-tasks tbody')[0];\n    this._contentModals = $$('.modal-content');\n    this._sourceModal = $$('#source-modal');\n    this._overLay = $$('.modal-backdrop')[0];\n    this._userInTask = $$('#task-user');\n    this._taskForm = this._sourceModal.find('#task-modal form');\n    this._taskUserField = this._taskForm.find('[name=\"user\"]');\n    this._taskDescriptionField = this._taskForm.find('[name=\"description\"]');\n    this._taskTimeField = this._taskForm.find('[name=\"time\"]');\n    this._taskDateField = this._taskForm.find('[name=\"date\"]');\n    this._modalTaskTitle = this._sourceModal.find('.dynamic-task-title');\n    this._filterUserId = null;\n  }\n\n  updateUsers(users) {\n    /*User*/\n    this._usersListContainer.innerHTML = users.reduce((usersHTML, user) => {\n      return usersHTML + saferHTML`\n      <li>\n        <a href='#' data-user-id=\"${user.id}\">${user.name} ${user.lastName}</a>\n      </li>`;\n    }, '')\n    /*User-task*/\n    this._userInTask.innerHTML = users.reduce((usersHTML, user) => {\n      return usersHTML + saferHTML`\n      <option value=\"${user.id}\">${user.name} ${user.lastName}</option>`;\n    }, '<option>Select user</option>');\n  }\n\n  updateTasks(tasks) {\n    let filteredTasks = tasks;\n    if(this._filterUserId) {\n      filteredTasks = tasks.filter(task => task.creatorId === this._filterUserId)\n    }\n\n    this._tasksContainer.innerHTML = filteredTasks.reduce((tasksHTML, task, index) => {\n      if(task) {\n        return tasksHTML + saferHTML`\n        <tr data-task-id='${task.id}'>\n          <th scope=\"row\">${index + 1}</th>\n          <td><input type=\"checkbox\"></td>\n          <td>${task.description}</td>\n          <td>${task.time}</td>\n          <td>${task.date}</td>\n          <td><a href=\"#\" class=\"btn btn-info btn-xs edit-task\">Edit</a></td>\n        </tr>`;\n      }\n    }, '');\n  }\n\n  changeModalHeaderText(editable) {\n    this._modalTaskTitle.innerText = editable ? 'Edit Task':'Add Task';\n  }\n\n  showModal(modal) {\n    this.hideAllContentModals();\n    modal.addClass('show');\n    this._sourceModal.removeClass('out').addClass('in');\n    this._overLay.removeClass('out').addClass('in');\n  }\n\n  hideModal() {\n    this._sourceModal.removeClass('in').addClass('out');\n    this._overLay.removeClass('in').addClass('out');\n  }\n\n  showEditModal(modal, task) {\n    this.showModal(modal);\n    this._taskForm.addClass('editable');\n    this._taskUserField.value = task.creatorId;\n    this._taskDescriptionField.value = task.description;\n    this._taskTimeField.value = task.time;\n    this._taskDateField.value = task.date;\n  }\n\n  removeTaskEditableClass() {\n    this._taskForm.removeClass('editable');\n  }\n\n  hideAllContentModals() {\n    for(let contentModal of Array.from(this._contentModals)) {\n      contentModal.removeClass('show');\n    }\n  }\n\n  setTaskId(id) {\n    this._taskForm.attr('data-task-id', id);\n  }\n\n  setFilterUserId(id) {\n    this._filterUserId = id;\n  }\n}\n\nexport default new UI();\n","\n\nclass Fire {\n  constructor() {\n    this.events = {};\n  }\n\n  subscribeAndInit(eventName, context, callback) {\n    this.subscribe(eventName, context, callback);\n    callback();\n  }\n\n  subscribe(eventName, context, callback) {\n    //do it witch es6\n    var eventType = this.events[eventName] = this.events[eventName] || [];\n    eventType.push({\n      callback: callback,\n      context: context\n    });\n  }\n\n  fire(eventName) {\n    let eventType = this.events[eventName] || [];\n    for(let call of eventType) {\n      call.callback.call(call.context);\n    }\n  }\n\n  unsubscribe(eventName) {\n    delete this.events[eventName];\n  }\n}\n\nexport default new Fire();\n","\nclass Request {\n  ajax(url, type, data) {\n    var promise = new Promise((resolve, reject) => {\n      var http = new XMLHttpRequest();\n      http.open(type, url);\n      http.onreadystatechange = function () {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) resolve(this.response);\n          else reject(this);\n        }\n      };\n      http.responseType = 'json';\n      http.setRequestHeader('Content-Type', 'application/json')\n      http.setRequestHeader('Accept', 'application/json');\n      http.send(data);\n    });\n    return promise;\n  }\n\n  get(url, data) {\n    return this.ajax(url, 'GET', data);\n  }\n\n  post(url, data) {\n    return this.ajax(url, 'POST', JSON.stringify(data));\n  }\n\n  update(url, data) {\n    return this.ajax(url, 'PUT', JSON.stringify(data));\n  }\n\n  delete(url, data) {\n    return this.ajax(url, 'DELETE', JSON.stringify(data));\n  }\n}\n\nexport default new Request();\n","function saferHTML(literalSections, ...substs) {\n  let raw = literalSections.raw;\n  let result = '';\n  substs.forEach((subst, i) => {\n    let lit = raw[i];\n    if (Array.isArray(subst)) {\n      subst = subst.join('');\n    }\n    if (lit.endsWith('$')) {\n      subst = htmlEscape(subst);\n      lit = lit.slice(0, -1);\n    }\n    result += lit;\n    result += subst;\n  });\n  result += raw[raw.length-1];\n  return result;\n}\n\nfunction htmlEscape(str) {\n  return str.replace(/&/g, '&amp;') // first!\n  .replace(/>/g, '&gt;')//\n  .replace(/</g, '&lt;')//\n  .replace(/\"/g, '&quot;')//\n  .replace(/'/g, '&#39;')//\n  .replace(/`/g, '&#96;');\n}\nexport default saferHTML;\n","/*globals NodeList*/\n\n\nlet findAll = function (selector) {\n  return this.querySelectorAll(selector);\n};\n\nNodeList.prototype.findAll = HTMLDocument.prototype.findAll =\nHTMLElement.prototype.findAll = findAll;\n\nlet find = function (selector) {\n  return this.querySelector(selector);\n};\n\nNodeList.prototype.find = HTMLDocument.prototype.find =\nHTMLElement.prototype.find = find;\n\nNode.prototype.on = function (type, callback, useCapture) {\n  this.addEventListener(type, callback, !!useCapture);\n};\n\nNode.prototype.append = function (tag, text) {\n  var node = document.createElement(tag);\n  if(text) {\n    var textnode = document.createTextNode(text);\n    node.appendChild(textnode);\n  }\n  return this.appendChild(node);\n};\n\nNode.prototype.appendHTML = function (HTML) {\n  this.innerHTML(HTML);\n};\n\nNode.prototype.delegate = function (type, selector, handler) {\n  let dispatchEvent = (event) => {\n    const targetElement = event.target;\n    const potentialElements = this.findAll(selector);\n    if (Array.prototype.indexOf.call(potentialElements, targetElement) >= 0) {\n      handler.call(targetElement, event);\n    }\n  }\n  const useCapture = type === 'blur' || type === 'focus';\n  this.on(type, dispatchEvent, useCapture);\n};\n\nNode.prototype.parent = function (tagName) {\n  if (!this.parentNode) {\n    return;\n  }\n\n  if (this.parentNode.tagName.toLowerCase() === tagName.toLowerCase()) {\n    return this.parentNode;\n  }\n\n  return this.parentNode.parent(tagName);\n};\n\nNode.prototype.data = function (dataName) {\n  var attribElement = Array.from(this.attributes)\n    .find(elem => elem.name === `data-${dataName}`);\n  return attribElement.value;\n}\n\nNode.prototype.attr = function (property, value) {\n  this.setAttribute(property, value);\n}\n\nNode.prototype.hasClass = function (cls) {\n  return this.classList.contains(cls);\n}\n\nNode.prototype.addClass = function (cls) {\n  this.classList.add(cls);\n  return this;\n};\n\nNode.prototype.removeClass = function (cls) {\n  this.classList.remove(cls);\n  return this;\n};\n\nlet $$ = (selector) => {\n  if(selector.split(/[\\s>]+/).pop()[0] === '#') {\n    return document.find(selector);\n  }\n  return document.findAll(selector);\n};\n\nexport default $$;\n"]}