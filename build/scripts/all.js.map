{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app/scripts/app.js","app/scripts/events.js","app/scripts/models/collection.js","app/scripts/models/serialize.js","app/scripts/ui.js","app/scripts/utils/fire.js","app/scripts/utils/request.js","app/scripts/utils/safer-html.js","app/scripts/utils/select.js"],"names":[],"mappings":"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","file":"all.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\nimport rq from './utils/request';\nimport $$ from './utils/select';\nimport Collection from './models/collection';\nimport UI from './ui';\nimport serialize from './models/serialize';\nimport fire from './utils/fire';\nimport events from './events';\n\nclass Application {\n  constructor() {\n\n  }\n}\n\n(() => new Application())();\n","/*globals formSerialize*/\nimport $$ from './utils/select';\nimport rq from './utils/request';\nimport UI from './ui';\nimport fire from './utils/fire';\n\nlet events = (() => {\n  let sourceModal = $$('#source-modal');\n  let userModal = sourceModal.find('#user-modal');\n  let taskModal = sourceModal.find('#task-modal');\n  let taskTable = $$('#show-tasks');\n  let deleteTask = $$('#delete-task');\n  let userModalForm = userModal.find('form');\n  let taskModalFrom = taskModal.find('form');\n  let usersList = $$('#users');\n  let showAllUsers = $$('#show-all-users');\n  let addNewUserButton = $$('#add-new-user');\n  let addNewTaskButton = $$('#add-new-task');\n\n\n});\n\nexport default events;\n","import rq from './../utils/request';\nimport serialize from './serialize';\nimport fire from './../utils/fire';\n\nexport default class Collection {\n  constructor (model, url, collectionName, event, models) {\n    this._model = model;\n    this._collectionName = collectionName;\n    this._event = event;\n    this._models = models !== undefined ? models : [];\n    this._urlPlural = url !== undefined ? url : '';\n    this._url = url.endsWith('s')? url.slice(0, -1): url;\n  }\n\n  resetLocalModels(data) {\n    if(!data) return;\n    this._models = data.map((item) => new this._model(item));\n  }\n\n  getLocalModels() {\n    return this._models;\n  }\n\n  initialize() {\n    let data;\n    if(serialize.size(this._collectionName) === 0) {\n      return rq.get(this._urlPlural).then(res => {\n        data = res.data;\n        serialize.addCollection(this._collectionName, data);\n        this.resetLocalModels(data);\n        fire.fire(this._event);\n      });\n    }\n    data = serialize.getCollection(this._collectionName);\n    this.resetLocalModels(data);\n    fire.fire(this._event);\n  }\n\n  add(data) {\n    return rq.post(this._url, data).then(res => this.save(res.data));\n  }\n\n  deleteByIds(ids) {\n    let fullfillments = ids.map(id => rq.delete(`${this._url}/${id}`));\n    return Promise.all(fullfillments)\n      .then(res => this.save(res[res.length - 1].data))\n      .catch(() => console.log('ups! something went wrong'));\n  }\n\n  update(id, data) {\n    rq.update(`${this._url}/${id}`, data).then(res => this.save(res.data));\n  }\n\n  fetch () {\n    return this._models;\n  }\n\n  findById(id) {\n    return this._models.find(model => model.id === id);\n  }\n\n  save(data) {\n    serialize.addCollection(this._collectionName, data);\n    this.resetLocalModels(data);\n    fire.fire(this._event);\n  }\n}\n","/*globals localStorage*/\nimport Collection from './collection';\n\n\n class Serialize {\n  constructor() {\n    this.barn = new Barn(sessionStorage);\n  }\n\n  addCollection(collectionName, data) {\n    this.barn.del(collectionName);\n    for(let item of data) {\n      if(item) {\n        this.barn.lpush(collectionName, item);\n      }\n    }\n  }\n\n  size(collectionName) {\n    return this.barn.llen(collectionName);\n  }\n\n  getCollection(collectionName) {\n    return this.barn.lrange(collectionName, 0, this.size(collectionName));\n  }\n}\n\n\nexport default new Serialize();\n","import $$ from './utils/select';\nimport saferHTML from \"./utils/safer-html\";\n\nclass UI {\n  constructor() {\n    this._usersListContainer = $$('#users');\n    this._tasksContainer = $$('#show-tasks tbody')[0];\n    this._contentModals = $$('.modal-content');\n    this._sourceModal = $$('#source-modal');\n    this._overLay = $$('.modal-backdrop')[0];\n    this._userInTask = $$('#task-user');\n    this._taskForm = this._sourceModal.find('#task-modal form');\n    this._taskUserField = this._taskForm.find('[name=\"user\"]');\n    this._taskDescriptionField = this._taskForm.find('[name=\"description\"]');\n    this._taskTimeField = this._taskForm.find('[name=\"time\"]');\n    this._taskDateField = this._taskForm.find('[name=\"date\"]');\n    this._modalTaskTitle = this._sourceModal.find('.dynamic-task-title');\n    this._filterUserId = null;\n  }\n\n\n    /*\n     USERS list item\n     <li>\n     <a href='#' data-user-id=\"userID\">user name</a>\n     </li>\n     */\n\n    /* users select options in addTask modal\n     <option>Select user</option>\n     <option value=\"userID>User Name</option>`;\n     */\n\n    /*\n     task row\n     <tr data-task-id=''>\n     <th scope=\"row\">index</th>\n     <td><input type=\"checkbox\"></td>\n     <td>description</td>\n     <td>time</td>\n     <td>date</td>\n     <td><a href=\"#\" class=\"btn btn-info btn-xs edit-task\">Edit</a></td>\n     </tr>\n     */\n\n  changeModalHeaderText(editable) {\n    this._modalTaskTitle.innerText = editable ? 'Edit Task':'Add Task';\n  }\n\n  showModal(modal) {\n    this.hideAllContentModals();\n    modal.addClass('show');\n    this._sourceModal.removeClass('out').addClass('in');\n    this._overLay.removeClass('out').addClass('in');\n  }\n\n  hideModal() {\n    this._sourceModal.removeClass('in').addClass('out');\n    this._overLay.removeClass('in').addClass('out');\n  }\n\n  showEditModal(modal, task) {\n    this.showModal(modal);\n    this._taskForm.addClass('editable');\n    this._taskUserField.value = task.creatorId;\n    this._taskDescriptionField.value = task.description;\n    this._taskTimeField.value = task.time;\n    this._taskDateField.value = task.date;\n  }\n\n  removeTaskEditableClass() {\n    this._taskForm.removeClass('editable');\n  }\n\n  hideAllContentModals() {\n    for(let contentModal of Array.from(this._contentModals)) {\n      contentModal.removeClass('show');\n    }\n  }\n\n  setTaskId(id) {\n    this._taskForm.attr('data-task-id', id);\n  }\n\n  setFilterUserId(id) {\n    this._filterUserId = id;\n  }\n}\n\nexport default new UI();\n","\n\nclass Fire {\n  constructor() {\n    this.events = {};\n  }\n\n  subscribeAndInit(eventName, context, callback) {\n    this.subscribe(eventName, context, callback);\n    callback();\n  }\n\n  subscribe(eventName, context, callback) {\n    let eventType = this.events[eventName] = this.events[eventName] || [];\n    eventType.push({\n      callback: callback,\n      context: context\n    });\n  }\n\n  fire(eventName) {\n    let eventType = this.events[eventName] || [];\n    for(let call of eventType) {\n      call.callback.call(call.context);\n    }\n  }\n\n  unsubscribe(eventName) {\n    delete this.events[eventName];\n  }\n}\n\nexport default new Fire();\n","\nclass Request {\n  ajax(url, type, data) {\n    let promise = new Promise((resolve, reject) => {\n      let xhr = new XMLHttpRequest();\n      xhr.open(type, url);\n      xhr.onreadystatechange = function () {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) resolve(this.response);\n          else reject(this);\n        }\n      };\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Content-Type', 'application/json')\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send(data);\n    });\n    return promise;\n  }\n\n  get(url, data) {\n    return this.ajax(url, 'GET', data);\n  }\n\n  post(url, data) {\n    return this.ajax(url, 'POST', JSON.stringify(data));\n  }\n\n  update(url, data) {\n    return this.ajax(url, 'PUT', JSON.stringify(data));\n  }\n\n  delete(url, data) {\n    return this.ajax(url, 'DELETE', JSON.stringify(data));\n  }\n}\n\nexport default new Request();\n","function saferHTML(literalSections, ...substs) {\n  let raw = literalSections.raw;\n  let result = '';\n  substs.forEach((subst, i) => {\n    let lit = raw[i];\n    if (Array.isArray(subst)) {\n      subst = subst.join('');\n    }\n    if (lit.endsWith('$')) {\n      subst = htmlEscape(subst);\n      lit = lit.slice(0, -1);\n    }\n    result += lit;\n    result += subst;\n  });\n  result += raw[raw.length-1];\n  return result;\n}\n\nfunction htmlEscape(str) {\n  return str.replace(/&/g, '&amp;') // first!\n  .replace(/>/g, '&gt;')//\n  .replace(/</g, '&lt;')//\n  .replace(/\"/g, '&quot;')//\n  .replace(/'/g, '&#39;')//\n  .replace(/`/g, '&#96;');\n}\nexport default saferHTML;\n","/*globals NodeList*/\n\n\nlet findAll = function (selector) {\n  return this.querySelectorAll(selector);\n};\n\nNodeList.prototype.findAll = HTMLDocument.prototype.findAll =\nHTMLElement.prototype.findAll = findAll;\n\nlet find = function (selector) {\n  return this.querySelector(selector);\n};\n\nNodeList.prototype.find = HTMLDocument.prototype.find =\nHTMLElement.prototype.find = find;\n\nNode.prototype.on = function (type, callback, useCapture) {\n  this.addEventListener(type, callback, !!useCapture);\n};\n\nNode.prototype.append = function (tag, text) {\n  var node = document.createElement(tag);\n  if(text) {\n    var textNode = document.createTextNode(text);\n    node.appendChild(textNode);\n  }\n  return this.appendChild(node);\n};\n\nNode.prototype.appendHTML = function (HTML) {\n  this.innerHTML = HTML;\n};\n\nNode.prototype.delegate = function (type, selector, handler) {\n  let dispatchEvent = (event) => {\n    const targetElement = event.target;\n    const potentialElements = this.findAll(selector);\n    if (Array.prototype.indexOf.call(potentialElements, targetElement) >= 0) {\n      handler.call(targetElement, event);\n    }\n  };\n  const useCapture = type === 'blur' || type === 'focus';\n  this.on(type, dispatchEvent, useCapture);\n};\n\nNode.prototype.parent = function (tagName) {\n  if (!this.parentNode) {\n    return;\n  }\n\n  if (this.parentNode.tagName.toLowerCase() === tagName.toLowerCase()) {\n    return this.parentNode;\n  }\n\n  return this.parentNode.parent(tagName);\n};\n\nNode.prototype.data = function (dataName) {\n  var attribElement = Array.from(this.attributes)\n    .find(elem => elem.name === `data-${dataName}`);\n  return attribElement.value;\n};\n\nNode.prototype.attr = function (property, value) {\n  this.setAttribute(property, value);\n};\n\nNode.prototype.hasClass = function (cls) {\n  return this.classList.contains(cls);\n};\n\nNode.prototype.addClass = function (cls) {\n  this.classList.add(cls);\n  return this;\n};\n\nNode.prototype.removeClass = function (cls) {\n  this.classList.remove(cls);\n  return this;\n};\n\nlet $$ = (selector) => {\n  if(selector.split(/[\\s>]+/).pop()[0] === '#') {\n    return document.find(selector);\n  }\n  return document.findAll(selector);\n};\n\nexport default $$;\n"]}