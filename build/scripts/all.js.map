{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app/scripts/app.js","app/scripts/events.js","app/scripts/models/base.js","app/scripts/models/collection.js","app/scripts/models/serialize.js","app/scripts/models/task.js","app/scripts/models/user.js","app/scripts/ui.js","app/scripts/utils/fire.js","app/scripts/utils/request.js","app/scripts/utils/safer-html.js","app/scripts/utils/select.js"],"names":[],"mappings":"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","file":"all.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\nimport rq from './utils/request';\nimport $$ from './utils/select';\nimport Collection from './models/collection';\nimport UI from './ui';\nimport serialize from './models/serialize';\nimport fire from './utils/fire';\nimport Task from './models/task';\nimport User from './models/user';\nimport events from './events';\n\nclass Application {\n  constructor() {\n    this._userCollection = new Collection(User, '/users', 'users', 'userChange');\n    this._taskCollection = new Collection(Task, '/tasks', 'tasks', 'taskChange');\n\n    fire.subscribe('userChange', null, () => {\n      let users = this._userCollection.fetch();\n      UI.updateUsers(users);\n    });\n    this._userCollection.initialize();\n\n    fire.subscribe('taskChange', null, () => {\n      let tasks = this._taskCollection.fetch();\n      UI.updateTasks(tasks);\n    });\n    this._taskCollection.initialize();\n\n    events(this._userCollection, this._taskCollection);\n  }\n}\n\n(() => new Application())();\n","/*globals formSerialize*/\nimport $$ from './utils/select';\nimport rq from './utils/request';\nimport UI from './ui';\nimport fire from './utils/fire';\n\nlet events = ((userCollection, taskCollection) => {\n  let sourceModal = $$('#source-modal');\n  let userModal = sourceModal.find('#user-modal');\n  let taskModal = sourceModal.find('#task-modal');\n  let taskTable = $$('#show-tasks');\n  let deleteTask = $$('#delete-task');\n  let userModalForm = userModal.find('form');\n  let taskModalFrom = taskModal.find('form');\n  let usersList = $$('#users');\n  let showAllUsers = $$('#show-all-users');\n\n  fire.subscribe('userChange', null, () => {\n    UI.hideModal();\n    userModalForm.reset();\n  });\n\n  fire.subscribe('taskChange', null, () => {\n    UI.hideModal();\n    taskModalFrom.reset();\n  });\n\n  userModalForm.on('submit', function (e) {\n    e.preventDefault();\n    let data = formSerialize(this, { hash: true });\n    userCollection.add(data);\n  });\n\n  taskModalFrom.on('submit', function (e) {\n    e.preventDefault();\n    let data = formSerialize(this, { hash: true });\n    if(this.hasClass('editable')) {\n      taskCollection.update(this.data('task-id'), data);\n    } else {\n      taskCollection.add(data);\n    }\n  });\n\n  deleteTask.on('click', e => {\n    e.preventDefault();\n    let deleteIds = Array.import(taskTable.findAll('input[type=checkbox]:checked'))\n      .map(task => task.parent('tr').data('task-id'));\n    taskCollection.deleteByIds(deleteIds);\n  });\n\n  taskTable.delegate('click', '.edit-task', e => {\n    e.preventDefault();\n    let taskElement = e.target.parent('tr');\n    let taskId = taskElement.data('task-id');\n\n    taskModalFrom.reset();\n    UI.showEditModal(taskModal, taskCollection.findById(taskId));\n    UI.setTaskId(taskId);\n    UI.changeModalHeaderText(true);\n  });\n\n  usersList.delegate('click', 'a', e => {\n    let userId = e.target.data('user-id');\n    UI.setFilterUserId(userId);\n    UI.updateTasks(taskCollection.fetch());\n  });\n\n  showAllUsers.on('click', () => {\n    UI.setFilterUserId(null);\n    UI.updateTasks(taskCollection.fetch());\n  });\n\n  sourceModal.delegate('click', '[data-dismiss=modal]', () => UI.hideModal());\n  $$('#add-new-user').on('click', () => UI.showModal(userModal));\n  $$('#add-new-task').on('click', () => {\n    UI.showModal(taskModal);\n    taskModalFrom.reset();\n    UI.removeTaskEditableClass();\n    UI.changeModalHeaderText();\n  });\n});\n\nexport default events;\n","import rq  from './../utils/request';\n\nclass Base {\n  constructor (fields, url) {\n    this._url = url !== undefined ? url : '';\n    this._fields = fields !== undefined ? fields : {};\n  }\n}\n\nexport default Base;\n","import rq from './../utils/request';\nimport serialize from './serialize';\nimport fire from './../utils/fire';\n\nexport default class Collection {\n  constructor (model, url, collectionName, event, models) {\n    this._model = model;\n    this._collectionName = collectionName;\n    this._event = event;\n    this._models = models !== undefined ? models : [];\n    this._urlPlural = url !== undefined ? url : '';\n    this._url = url.endsWith('s')? url.slice(0, -1): url;\n  }\n\n  resetLocalModels(data) {\n    if(!data) return;\n    this._models = data.map((item) => new this._model(item));\n  }\n\n  getLocalModels() {\n    return this._models;\n  }\n\n  initialize() {\n    let data;\n    if(serialize.size(this._collectionName) === 0) {\n      return rq.get(this._urlPlural).then(res => {\n        data = res.data;\n        serialize.addCollection(this._collectionName, data);\n        this.resetLocalModels(data);\n        fire.fire(this._event);\n      });\n    }\n    data = serialize.getCollection(this._collectionName);\n    this.resetLocalModels(data);\n    fire.fire(this._event);\n  }\n\n  add(data) {\n    return rq.post(this._url, data).then(res => this.save(res.data));\n  }\n\n  deleteByIds(ids) {\n    let fullfillments = ids.map(id => rq.delete(`${this._url}/${id}`));\n    return Promise.all(fullfillments)\n      .then(res => this.save(res[res.length - 1].data))\n      .catch(() => console.log('ups! something went wrong'));\n  }\n\n  update(id, data) {\n    rq.update(`${this._url}/${id}`, data).then(res => this.save(res.data));\n  }\n\n  fetch () {\n    return this._models;\n  }\n\n  findById(id) {\n    return this._models.find(model => model.id === id);\n  }\n\n  save(data) {\n    serialize.addCollection(this._collectionName, data);\n    this.resetLocalModels(data);\n    fire.fire(this._event);\n  }\n}\n","/*globals localStorage*/\nimport Collection from './collection';\n\n\n class Serialize {\n  constructor() {\n    this.barn = new Barn(sessionStorage);\n  }\n\n  addCollection(collectionName, data) {\n    this.barn.del(collectionName);\n    for(let item of data) {\n      if(item) {\n        this.barn.lpush(collectionName, item);\n      }\n    }\n  }\n\n  size(collectionName) {\n    return this.barn.llen(collectionName);\n  }\n\n  getCollection(collectionName) {\n    return this.barn.lrange(collectionName, 0, this.size(collectionName));\n  }\n}\n\n\nexport default new Serialize();\n","import Base from './base';\n\n\nclass Task extends Base {\n  constructor(data) {\n    super(data, '/task');\n  }\n\n  /** @return {String}*/\n  get id() {\n    return this._fields.id;\n  }\n\n  /** @return {String}*/\n  get creatorId() {\n    return this._fields.creator_id;\n  }\n\n  /** @return {String}*/\n  get description() {\n    return this._fields.description;\n  }\n\n  /** @return {String}*/\n  get time() {\n    return this._fields.time;\n  }\n\n  /** @return {String}*/\n  get date() {\n    return this._fields.date;\n  }\n}\n\nexport default Task;\n","import Base from './base';\n\nclass User extends Base {\n  constructor(data) {\n    super(data, '/user');\n  }\n\n  /** @return {String}*/\n  get id () {\n    return this._fields.id;\n  }\n\n  /** @return {String}*/\n  get name () {\n    return this._fields.name;\n  }\n\n  /** @return {String}*/\n  get lastName() {\n    return this._fields.lastName;\n  }\n\n  /** @return {String}*/\n  get email() {\n    return this._fields.email;\n  }\n}\n\nexport default User;\n","import $$ from './utils/select';\nimport saferHTML from \"./utils/safer-html\";\n\nclass UI {\n  constructor() {\n    this._usersListContainer = $$('#users');\n    this._tasksContainer = $$('#show-tasks tbody')[0];\n    this._contentModals = $$('.modal-content');\n    this._sourceModal = $$('#source-modal');\n    this._overLay = $$('.modal-backdrop')[0];\n    this._userInTask = $$('#task-user');\n    this._taskForm = this._sourceModal.find('#task-modal form');\n    this._taskUserField = this._taskForm.find('[name=\"user\"]');\n    this._taskDescriptionField = this._taskForm.find('[name=\"description\"]');\n    this._taskTimeField = this._taskForm.find('[name=\"time\"]');\n    this._taskDateField = this._taskForm.find('[name=\"date\"]');\n    this._modalTaskTitle = this._sourceModal.find('.dynamic-task-title');\n    this._filterUserId = null;\n  }\n\n  updateUsers(users) {\n    /*User*/\n    this._usersListContainer.innerHTML = users.reduce((usersHTML, user) => {\n      return usersHTML + saferHTML`\n      <li>\n        <a href='#' data-user-id=\"${user.id}\">${user.name} ${user.lastName}</a>\n      </li>`;\n    }, '')\n    /*User-task*/\n    this._userInTask.innerHTML = users.reduce((usersHTML, user) => {\n      return usersHTML + saferHTML`\n      <option value=\"${user.id}\">${user.name} ${user.lastName}</option>`;\n    }, '<option>Select user</option>');\n  }\n\n  updateTasks(tasks) {\n    let filteredTasks = tasks;\n    if(this._filterUserId) {\n      filteredTasks = tasks.filter(task => task.creatorId === this._filterUserId)\n    }\n\n    this._tasksContainer.innerHTML = filteredTasks.reduce((tasksHTML, task, index) => {\n      if(task) {\n        return tasksHTML + saferHTML`\n        <tr data-task-id='${task.id}'>\n          <th scope=\"row\">${index + 1}</th>\n          <td><input type=\"checkbox\"></td>\n          <td>${task.description}</td>\n          <td>${task.time}</td>\n          <td>${task.date}</td>\n          <td><a href=\"#\" class=\"btn btn-info btn-xs edit-task\">Edit</a></td>\n        </tr>`;\n      }\n    }, '');\n  }\n\n  changeModalHeaderText(editable) {\n    this._modalTaskTitle.innerText = editable ? 'Edit Task':'Add Task';\n  }\n\n  showModal(modal) {\n    this.hideAllContentModals();\n    modal.addClass('show');\n    this._sourceModal.removeClass('out').addClass('in');\n    this._overLay.removeClass('out').addClass('in');\n  }\n\n  hideModal() {\n    this._sourceModal.removeClass('in').addClass('out');\n    this._overLay.removeClass('in').addClass('out');\n  }\n\n  showEditModal(modal, task) {\n    this.showModal(modal);\n    this._taskForm.addClass('editable');\n    this._taskUserField.value = task.creatorId;\n    this._taskDescriptionField.value = task.description;\n    this._taskTimeField.value = task.time;\n    this._taskDateField.value = task.date;\n  }\n\n  removeTaskEditableClass() {\n    this._taskForm.removeClass('editable');\n  }\n\n  hideAllContentModals() {\n    for(let contentModal of Array.from(this._contentModals)) {\n      contentModal.removeClass('show');\n    }\n  }\n\n  setTaskId(id) {\n    this._taskForm.attr('data-task-id', id);\n  }\n\n  setFilterUserId(id) {\n    this._filterUserId = id;\n  }\n}\n\nexport default new UI();\n","\n\nclass Fire {\n  constructor() {\n    this.events = {};\n  }\n\n  subscribeAndInit(eventName, context, callback) {\n    this.subscribe(eventName, context, callback);\n    callback();\n  }\n\n  subscribe(eventName, context, callback) {\n    //do it witch es6\n    var eventType = this.events[eventName] = this.events[eventName] || [];\n    eventType.push({\n      callback: callback,\n      context: context\n    });\n  }\n\n  fire(eventName) {\n    let eventType = this.events[eventName] || [];\n    for(let call of eventType) {\n      call.callback.call(call.context);\n    }\n  }\n\n  unsubscribe(eventName) {\n    delete this.events[eventName];\n  }\n}\n\nexport default new Fire();\n","\nclass Request {\n  ajax(url, type, data) {\n    var promise = new Promise((resolve, reject) => {\n      var http = new XMLHttpRequest();\n      http.open(type, url);\n      http.onreadystatechange = function () {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) resolve(this.response);\n          else reject(this);\n        }\n      };\n      http.responseType = 'json';\n      http.setRequestHeader('Content-Type', 'application/json')\n      http.setRequestHeader('Accept', 'application/json');\n      http.send(data);\n    });\n    return promise;\n  }\n\n  get(url, data) {\n    return this.ajax(url, 'GET', data);\n  }\n\n  post(url, data) {\n    return this.ajax(url, 'POST', JSON.stringify(data));\n  }\n\n  update(url, data) {\n    return this.ajax(url, 'PUT', JSON.stringify(data));\n  }\n\n  delete(url, data) {\n    return this.ajax(url, 'DELETE', JSON.stringify(data));\n  }\n}\n\nexport default new Request();\n","function saferHTML(literalSections, ...substs) {\n  let raw = literalSections.raw;\n  let result = '';\n  substs.forEach((subst, i) => {\n    let lit = raw[i];\n    if (Array.isArray(subst)) {\n      subst = subst.join('');\n    }\n    if (lit.endsWith('$')) {\n      subst = htmlEscape(subst);\n      lit = lit.slice(0, -1);\n    }\n    result += lit;\n    result += subst;\n  });\n  result += raw[raw.length-1];\n  return result;\n}\n\nfunction htmlEscape(str) {\n  return str.replace(/&/g, '&amp;') // first!\n  .replace(/>/g, '&gt;')//\n  .replace(/</g, '&lt;')//\n  .replace(/\"/g, '&quot;')//\n  .replace(/'/g, '&#39;')//\n  .replace(/`/g, '&#96;');\n}\nexport default saferHTML;\n","/*globals NodeList*/\n\n\nlet findAll = function (selector) {\n  return this.querySelectorAll(selector);\n};\n\nNodeList.prototype.findAll = HTMLDocument.prototype.findAll =\nHTMLElement.prototype.findAll = findAll;\n\nlet find = function (selector) {\n  return this.querySelector(selector);\n};\n\nNodeList.prototype.find = HTMLDocument.prototype.find =\nHTMLElement.prototype.find = find;\n\nNode.prototype.on = function (type, callback, useCapture) {\n  this.addEventListener(type, callback, !!useCapture);\n};\n\nNode.prototype.append = function (tag, text) {\n  var node = document.createElement(tag);\n  if(text) {\n    var textnode = document.createTextNode(text);\n    node.appendChild(textnode);\n  }\n  return this.appendChild(node);\n};\n\nNode.prototype.appendHTML = function (HTML) {\n  this.innerHTML(HTML);\n};\n\nNode.prototype.delegate = function (type, selector, handler) {\n  let dispatchEvent = (event) => {\n    const targetElement = event.target;\n    const potentialElements = this.findAll(selector);\n    if (Array.prototype.indexOf.call(potentialElements, targetElement) >= 0) {\n      handler.call(targetElement, event);\n    }\n  }\n  const useCapture = type === 'blur' || type === 'focus';\n  this.on(type, dispatchEvent, useCapture);\n};\n\nNode.prototype.parent = function (tagName) {\n  if (!this.parentNode) {\n    return;\n  }\n\n  if (this.parentNode.tagName.toLowerCase() === tagName.toLowerCase()) {\n    return this.parentNode;\n  }\n\n  return this.parentNode.parent(tagName);\n};\n\nNode.prototype.data = function (dataName) {\n  var attribElement = Array.from(this.attributes)\n    .find(elem => elem.name === `data-${dataName}`);\n  return attribElement.value;\n}\n\nNode.prototype.attr = function (property, value) {\n  this.setAttribute(property, value);\n}\n\nNode.prototype.hasClass = function (cls) {\n  return this.classList.contains(cls);\n}\n\nNode.prototype.addClass = function (cls) {\n  this.classList.add(cls);\n  return this;\n};\n\nNode.prototype.removeClass = function (cls) {\n  this.classList.remove(cls);\n  return this;\n};\n\nlet $$ = (selector) => {\n  if(selector.split(/[\\s>]+/).pop()[0] === '#') {\n    return document.find(selector);\n  }\n  return document.findAll(selector);\n};\n\nexport default $$;\n"]}