{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","app/scripts/app.js","app/scripts/events.js","app/scripts/models/base.js","app/scripts/models/collection.js","app/scripts/models/serialize.js","app/scripts/models/task.js","app/scripts/models/user.js","app/scripts/ui.js","app/scripts/utils/fire.js","app/scripts/utils/request.js","app/scripts/utils/safer-html.js","app/scripts/utils/select.js"],"names":[],"mappings":"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","file":"all.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\nlet rq = require('./utils/request');\nlet $$ = require('./utils/select');\nlet Collection = require('./models/collection');\nlet UI = require('./ui');\nlet serialize = require('./models/serialize');\nlet fire = require('./utils/fire');\nlet Task = require('./models/task');\nlet User = require('./models/user');\nlet events = require('./events');\n\nclass Application {\n  constructor() {\n    this._userCollection = new Collection(User, '/users', 'users', 'userChange');\n    this._taskCollection = new Collection(Task, '/tasks', 'tasks', 'taskChange');\n\n    fire.subscribe('userChange', null, () => {\n      let users = this._userCollection.fetch();\n      UI.updateUsers(users);\n    });\n    this._userCollection.initialize();\n\n    fire.subscribe('taskChange', null, () => {\n      let tasks = this._taskCollection.fetch();\n      UI.updateTasks(tasks);\n    });\n    this._taskCollection.initialize();\n\n    events(this._userCollection, this._taskCollection);\n  }\n}\n\n(() => new Application())();\n","/*globals formSerialize*/\nlet $$ = require('./utils/select');\nlet rq = require('./utils/request');\nlet UI = require('./ui');\nlet fire = require('./utils/fire');\n\nvar events = ((userCollection, taskCollection) => {\n  let sourceModal = $$('#source-modal');\n  let userModal = sourceModal.find('#user-modal');\n  let taskModal = sourceModal.find('#task-modal');\n  let taskTable = $$('#show-tasks');\n  let deleteTask = $$('#delete-task');\n  let userModalForm = userModal.find('form');\n  let taskModalFrom = taskModal.find('form');\n  let usersList = $$('#users');\n  let showAllUsers = $$('#show-all-users');\n\n  fire.subscribe('userChange', null, () => {\n    UI.hideModal();\n    userModalForm.reset();\n  });\n\n  fire.subscribe('taskChange', null, () => {\n    UI.hideModal();\n    taskModalFrom.reset();\n  });\n\n  userModalForm.on('submit', function (e) {\n    e.preventDefault();\n    let data = formSerialize(this, { hash: true });\n    userCollection.add(data);\n  });\n\n  taskModalFrom.on('submit', function (e) {\n    e.preventDefault();\n    let data = formSerialize(this, { hash: true });\n    if(this.hasClass('editable')) {\n      taskCollection.update(this.data('task-id'), data);\n    } else {\n      taskCollection.add(data);\n    }\n  });\n\n  deleteTask.on('click', e => {\n    e.preventDefault();\n    let deleteIds = Array.from(taskTable.findAll('input[type=checkbox]:checked'))\n      .map(task => task.parent('tr').data('task-id'));\n    taskCollection.deleteByIds(deleteIds);\n  });\n\n  taskTable.delegate('click', '.edit-task', e => {\n    e.preventDefault();\n    let taskElement = e.target.parent('tr');\n    let taskId = taskElement.data('task-id');\n\n    taskModalFrom.reset();\n    UI.showEditModal(taskModal, taskCollection.findById(taskId));\n    UI.setTaskId(taskId);\n    UI.changeModalHeaderText(true);\n  });\n\n  usersList.delegate('click', 'a', e => {\n    let userId = e.target.data('user-id');\n    UI.setFilterUserId(userId);\n    UI.updateTasks(taskCollection.fetch());\n  });\n  \n  showAllUsers.on('click', () => {\n    UI.setFilterUserId(null);\n    UI.updateTasks(taskCollection.fetch());\n  });\n\n  sourceModal.delegate('click', '[data-dismiss=modal]', () => UI.hideModal());\n  $$('#add-new-user').on('click', () => UI.showModal(userModal));\n  $$('#add-new-task').on('click', () => {\n    UI.showModal(taskModal);\n    taskModalFrom.reset();\n    UI.removeTaskEditableClass();\n    UI.changeModalHeaderText();\n  });\n});\n\nmodule.exports = events;\n","let rq = require('./../utils/request');\nclass Base {\n  constructor (fields, url) {\n    this._url = url !== undefined ? url : '';\n    this._fields = fields !== undefined ? fields : {};\n  }\n}\n\nmodule.exports = Base;\n","let rq = require('./../utils/request');\nlet serialize = require('./serialize');\nlet fire = require('./../utils/fire');\n\nclass Collection {\n  constructor (model, url, collectionName, event, models) {\n    this._model = model;\n    this._collectionName = collectionName;\n    this._event = event;\n    this._models = models !== undefined ? models : [];\n    this._urlPlural = url !== undefined ? url : '';\n    this._url = url.endsWith('s')? url.slice(0, -1): url;\n  }\n\n  resetLocalModels(data) {\n    if(!data) return;\n    this._models = data.map((item) => new this._model(item));\n  }\n\n  getLocalModels() {\n    return this._models;\n  }\n\n  initialize() {\n    let data;\n    if(serialize.size(this._collectionName) === 0) {\n      return rq.get(this._urlPlural).then(res => {\n        data = res.data;\n        serialize.addCollection(this._collectionName, data);\n        this.resetLocalModels(data);\n        fire.fire(this._event);\n      });\n    }\n    data = serialize.getCollection(this._collectionName);\n    this.resetLocalModels(data);\n    fire.fire(this._event);\n  }\n\n  add(data) {\n    return rq.post(this._url, data).then(res => this.save(res.data));\n  }\n\n  deleteByIds(ids) {\n    let fullfillments = ids.map(id => rq.delete(`${this._url}/${id}`));\n    return Promise.all(fullfillments)\n      .then(res => this.save(res[res.length - 1].data))\n      .catch(() => console.log('ups! something went wrong'));\n  }\n\n  update(id, data) {\n    rq.update(`${this._url}/${id}`, data).then(res => this.save(res.data));\n  }\n\n  fetch () {\n    return this._models;\n  }\n\n  findById(id) {\n    return this._models.find(model => model.id === id);\n  }\n\n  save(data) {\n    serialize.addCollection(this._collectionName, data);\n    this.resetLocalModels(data);\n    fire.fire(this._event);\n  }\n}\n\nmodule.exports = Collection;\n","/*globals localStorage*/\nlet Collection = require('./collection');\n\n\nclass Serialize {\n  constructor() {\n    this.barn = new Barn(sessionStorage);\n  }\n\n  addCollection(collectionName, data) {\n    this.barn.del(collectionName);\n    for(let item of data) {\n      if(item) {\n        this.barn.lpush(collectionName, item);\n      }\n    }\n  }\n\n  size(collectionName) {\n    return this.barn.llen(collectionName);\n  }\n\n  getCollection(collectionName) {\n    return this.barn.lrange(collectionName, 0, this.size(collectionName));\n  }\n}\n\n\nmodule.exports = new Serialize();\n","let Base  = require('./base');\n\n\nclass Task extends Base {\n  constructor(data) {\n    super(data, '/task');\n  }\n\n  /** @return {String}*/\n  get id() {\n    return this._fields.id;\n  }\n\n  /** @return {String}*/\n  get creatorId() {\n    return this._fields.creator_id;\n  }\n\n  /** @return {String}*/\n  get description() {\n    return this._fields.description;\n  }\n\n  /** @return {String}*/\n  get time() {\n    return this._fields.time;\n  }\n\n  /** @return {String}*/\n  get date() {\n    return this._fields.date;\n  }\n}\n\nmodule.exports = Task;\n","let Base = require('./base');\n\nclass User extends Base {\n  constructor(data) {\n    super(data, '/user');\n  }\n\n  /** @return {String}*/\n  get id () {\n    return this._fields.id;\n  }\n\n  /** @return {String}*/\n  get name () {\n    return this._fields.name;\n  }\n\n  /** @return {String}*/\n  get lastName() {\n    return this._fields.lastName;\n  }\n\n  /** @return {String}*/\n  get email() {\n    return this._fields.email;\n  }\n}\n\nmodule.exports = User;\n","let $$ = require('./utils/select'),\nsaferHTML = require(\"./utils/safer-html\");\n\n\nclass UI {\n  constructor() {\n    this._usersListContainer = $$('#users');\n    this._tasksContainer = $$('#show-tasks tbody')[0];\n    this._contentModals = $$('.modal-content');\n    this._sourceModal = $$('#source-modal');\n    this._overLay = $$('.modal-backdrop')[0];\n    this._userInTask = $$('#task-user');\n    this._taskForm = this._sourceModal.find('#task-modal form');\n    this._taskUserField = this._taskForm.find('[name=\"user\"]');\n    this._taskDescriptionField = this._taskForm.find('[name=\"description\"]');\n    this._taskTimeField = this._taskForm.find('[name=\"time\"]');\n    this._taskDateField = this._taskForm.find('[name=\"date\"]');\n    this._modalTaskTitle = this._sourceModal.find('.dynamic-task-title');\n    this._filterUserId = null;\n\n  }\n\n  updateUsers(users) {\n    /*User*/\n    this._usersListContainer.innerHTML = users.reduce((usersHTML, user) => {\n      return `${usersHTML}\n      <li>\n        <a href='#' data-user-id=\"${user.id}\">${user.name} ${user.lastName}</a>\n      </li>`;\n    }, '');\n\n    /*User-task*/\n    this._userInTask.innerHTML = users.reduce((usersHTML, user) => {\n      return `${usersHTML}\n      <option value=\"${user.id}\">${user.name} ${user.lastName}</option>`;\n    }, '<option>Select user</option>');\n  }\n\n  updateTasks(tasks) {\n    let filteredTasks = tasks;\n    if(this._filterUserId) {\n      filteredTasks = tasks.filter(task => task.creatorId === this._filterUserId)\n    }\n\n    this._tasksContainer.innerHTML = filteredTasks.reduce((tasksHTML, task, index) => {\n      if(task) {\n        return `${tasksHTML}\n        <tr data-task-id='${task.id}'>\n          <th scope=\"row\">${index + 1}</th>\n          <td><input type=\"checkbox\"></td>\n          <td>${task.description}</td>\n          <td>${task.time}</td>\n          <td>${task.date}</td>\n          <td><a href=\"#\" class=\"btn btn-info btn-xs edit-task\">Edit</a></td>\n        </tr>`;\n      }\n    }, '');\n  }\n\n  changeModalHeaderText(editable) {\n    this._modalTaskTitle.innerText = editable ? 'Edit Task':'Add Task';\n  }\n\n  showModal(modal) {\n    this.hideAllContentModals();\n    modal.addClass('show');\n    this._sourceModal.removeClass('out').addClass('in');\n    this._overLay.removeClass('out').addClass('in');\n  }\n\n  hideModal() {\n    this._sourceModal.removeClass('in').addClass('out');\n    this._overLay.removeClass('in').addClass('out');\n  }\n\n  showEditModal(modal, task) {\n    this.showModal(modal);\n    this._taskForm.addClass('editable');\n    this._taskUserField.value = task.creatorId;\n    this._taskDescriptionField.value = task.description;\n    this._taskTimeField.value = task.time;\n    this._taskDateField.value = task.date;\n  }\n\n  removeTaskEditableClass() {\n    this._taskForm.removeClass('editable');\n  }\n\n  hideAllContentModals() {\n    for(let contentModal of Array.from(this._contentModals)) {\n      contentModal.removeClass('show');\n    }\n  }\n\n  setTaskId(id) {\n    this._taskForm.attr('data-task-id', id);\n  }\n\n  setFilterUserId(id) {\n    this._filterUserId = id;\n  }\n}\n\nmodule.exports = new UI();\n","\n\nclass Fire {\n  constructor() {\n    this.events = {};\n  }\n\n  subscribeAndInit(eventName, context, callback) {\n    this.subscribe(eventName, context, callback);\n    callback();\n  }\n\n  subscribe(eventName, context, callback) {\n    //do it witch es6\n    var eventType = this.events[eventName] = this.events[eventName] || [];\n    eventType.push({\n      callback: callback,\n      context: context\n    });\n  }\n\n  fire(eventName) {\n    let eventType = this.events[eventName] || [];\n    for(let call of eventType) {\n      call.callback.call(call.context);\n    }\n  }\n\n  unsubscribe(eventName) {\n    delete this.events[eventName];\n  }\n}\n\nmodule.exports = new Fire();\n","\nclass Request {\n  ajax(url, type, data) {\n    var promise = new Promise((resolve, reject) => {\n      var http = new XMLHttpRequest();\n      http.open(type, url);\n      http.onreadystatechange = function () {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) resolve(this.response);\n          else reject(this);\n        }\n      };\n      http.responseType = 'json';\n      http.setRequestHeader('Content-Type', 'application/json')\n      http.setRequestHeader('Accept', 'application/json');\n      http.send(data);\n    });\n    return promise;\n  }\n\n  get(url, data) {\n    return this.ajax(url, 'GET', data);\n  }\n\n  post(url, data) {\n    return this.ajax(url, 'POST', JSON.stringify(data));\n  }\n\n  update(url, data) {\n    return this.ajax(url, 'PUT', JSON.stringify(data));\n  }\n\n  delete(url, data) {\n    return this.ajax(url, 'DELETE', JSON.stringify(data));\n  }\n}\n\nmodule.exports = new Request();\n","function saferHTML(templateData) {\n  var s = templateData[0];\n  for (var i = 1; i < arguments.length; i++) {\n    var arg = String(arguments[i]);\n\n    // Escape special characters in the substitution.\n    s += arg.replace(/&/g, '&amp;')\n            .replace(/</g, '&lt;')\n            .replace(/>/g, '&gt;');\n\n    // Don't escape special characters in the template.\n    s += templateData[i];\n  }\n  return s;\n}\nmodule.exports = saferHTML;\n","/*globals NodeList*/\n\n\nlet findAll = function (selector) {\n  return this.querySelectorAll(selector);\n};\n\nNodeList.prototype.findAll = HTMLDocument.prototype.findAll =\nHTMLElement.prototype.findAll = findAll;\n\nlet find = function (selector) {\n  return this.querySelector(selector);\n};\n\nNodeList.prototype.find = HTMLDocument.prototype.find =\nHTMLElement.prototype.find = find;\n\nNode.prototype.on = function (type, callback, useCapture) {\n  this.addEventListener(type, callback, !!useCapture);\n};\n\nNode.prototype.append = function (tag, text) {\n  var node = document.createElement(tag);\n  if(text) {\n    var textnode = document.createTextNode(text);\n    node.appendChild(textnode);\n  }\n  return this.appendChild(node);\n};\n\nNode.prototype.appendHTML = function (HTML) {\n  this.innerHTML(HTML);\n};\n\nNode.prototype.delegate = function (type, selector, handler) {\n  let dispatchEvent = (event) => {\n    const targetElement = event.target;\n    const potentialElements = this.findAll(selector);\n    if (Array.prototype.indexOf.call(potentialElements, targetElement) >= 0) {\n      handler.call(targetElement, event);\n    }\n  }\n  const useCapture = type === 'blur' || type === 'focus';\n  this.on(type, dispatchEvent, useCapture);\n};\n\nNode.prototype.parent = function (tagName) {\n  if (!this.parentNode) {\n    return;\n  }\n\n  if (this.parentNode.tagName.toLowerCase() === tagName.toLowerCase()) {\n    return this.parentNode;\n  }\n\n  return this.parentNode.parent(tagName);\n};\n\nNode.prototype.data = function (dataName) {\n  var attribElement = Array.from(this.attributes)\n    .find(elem => elem.name === `data-${dataName}`);\n  return attribElement.value;\n}\n\nNode.prototype.attr = function (property, value) {\n  this.setAttribute(property, value);\n}\n\nNode.prototype.hasClass = function (cls) {\n  return this.classList.contains(cls);\n}\n\nNode.prototype.addClass = function (cls) {\n  this.classList.add(cls);\n  return this;\n};\n\nNode.prototype.removeClass = function (cls) {\n  this.classList.remove(cls);\n  return this;\n};\n\nlet $$ = (selector) => {\n  if(selector.split(/[\\s>]+/).pop()[0] === '#') {\n    return document.find(selector);\n  }\n  return document.findAll(selector);\n};\n\nmodule.exports = $$;\n"]}